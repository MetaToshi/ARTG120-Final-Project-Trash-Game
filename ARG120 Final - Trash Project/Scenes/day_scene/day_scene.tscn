[gd_scene load_steps=10 format=3 uid="uid://dreprla4p16ug"]

[ext_resource type="PackedScene" uid="uid://c2havtse0trim" path="res://Assets/Characters/Player/player.tscn" id="1_xwrqd"]
[ext_resource type="PackedScene" uid="uid://cicbix1jau3nl" path="res://Scenes/UI/ui_cans.tscn" id="2_buod3"]
[ext_resource type="Script" path="res://Scenes/day_scene/Shop.gd" id="2_qa2x0"]
[ext_resource type="PackedScene" uid="uid://tq65at8el15x" path="res://Scenes/UI/town_health_bar.tscn" id="3_n7h6a"]
[ext_resource type="PackedScene" uid="uid://d4db5amylgsg7" path="res://Scenes/UI/ui_money.tscn" id="4_6m5d3"]
[ext_resource type="Texture2D" uid="uid://d11j02whvn3xy" path="res://Assets/Sprites/ScrollingCity/2110.w026.n002.959B.p1.959.jpg" id="6_70rfj"]
[ext_resource type="Script" path="res://Scenes/day_scene/ParallaxBackground.gd" id="6_xh1s8"]
[ext_resource type="Texture2D" uid="uid://dpg115jtyuc62" path="res://Assets/Sprites/ScrollingCity/talkingshit.png" id="8_b3mmc"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_bprjq"]
vertices = PackedVector2Array(-591, -305, 1302, -305, 1302, 634, -591, 632)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-591, -305, 1302, -305, 1302, 634, -591, 632)])

[node name="day_scene" type="Node2D"]

[node name="PlayerCat" parent="." instance=ExtResource("1_xwrqd")]
position = Vector2(120, 240)
scale = Vector2(2, 2)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
visible = false
navigation_polygon = SubResource("NavigationPolygon_bprjq")

[node name="Shop" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_left = -200.0
offset_top = -152.0
offset_right = 352.0
offset_bottom = 136.0
script = ExtResource("2_qa2x0")

[node name="MarginContainer" type="MarginContainer" parent="Shop"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.312
anchor_top = 0.319
anchor_right = 0.312
anchor_bottom = 0.319
offset_left = 267.776
offset_top = 108.128
offset_right = 673.776
offset_bottom = 412.128
scale = Vector2(0.5, 0.5)

[node name="VBoxContainer" type="VBoxContainer" parent="Shop/MarginContainer"]
layout_mode = 2
size_flags_vertical = 0

[node name="Label2" type="Label" parent="Shop/MarginContainer/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 0
size_flags_vertical = 0
text = "Money:"

[node name="Label" type="Label" parent="Shop/MarginContainer/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 0
size_flags_vertical = 2
theme_override_font_sizes/font_size = 35
text = "Upgrades:"

[node name="playercanupgrade" type="Button" parent="Shop/MarginContainer/VBoxContainer"]
layout_mode = 2
tooltip_text = "Increase Max Number of Trashcans Held by Player
Costs: 10 Dollars"
mouse_default_cursor_shape = 2
text = "Increase Player Garbage Can Capacity"

[node name="playerheldupgrade" type="Button" parent="Shop/MarginContainer/VBoxContainer"]
layout_mode = 2
tooltip_text = "Increases how much garbage the player can hold.
Costs: 10 Dollars"
mouse_default_cursor_shape = 2
text = "Increase Player Held Garbage Capacity"

[node name="trashcanupgrade" type="Button" parent="Shop/MarginContainer/VBoxContainer"]
layout_mode = 2
tooltip_text = "Increases the amount of trash the Trashcans can hold.
Costs: 10 Dollars"
mouse_default_cursor_shape = 2
text = "Increase Garbage Can Held Garbage Capacity"

[node name="Restore" type="Button" parent="Shop/MarginContainer/VBoxContainer"]
layout_mode = 2
tooltip_text = "Restores Cleanliness to the City
Costs: 10 Dollars"
mouse_default_cursor_shape = 2
text = "Restore City Cleanliness"

[node name="decrease" type="Button" parent="Shop/MarginContainer/VBoxContainer"]
layout_mode = 2
tooltip_text = "Slightly decrease enemy spawn during the next night.
Costs: 10 Dollars"
mouse_default_cursor_shape = 2
text = "Decrease Enemy Spawn"

[node name="VBoxContainer2" type="VBoxContainer" parent="Shop/MarginContainer"]
layout_mode = 2
size_flags_vertical = 8

[node name="back_to_level" type="Button" parent="Shop/MarginContainer/VBoxContainer2"]
layout_mode = 2
size_flags_vertical = 8
tooltip_text = "Get Back to Work!"
mouse_default_cursor_shape = 2
text = "Back to Work!"

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(240, 280)
enabled = false
zoom = Vector2(0.5, 0.5)

[node name="UI_Cans" parent="Camera2D" instance=ExtResource("2_buod3")]
visible = false
offset_left = -173.0
offset_top = -320.0
offset_right = -173.0
offset_bottom = -320.0

[node name="Town_Health_Bar" parent="Camera2D" instance=ExtResource("3_n7h6a")]
visible = false
z_index = 100
z_as_relative = false
offset_left = -233.0
offset_top = -124.0
offset_right = -7.0
offset_bottom = -109.0
metadata/_edit_use_anchors_ = true

[node name="UI_Money" parent="Camera2D" instance=ExtResource("4_6m5d3")]
z_index = 100
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = 144.0
offset_top = -224.0
offset_right = 184.0
offset_bottom = -184.0
grow_horizontal = 0

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]
process_mode = 3
script = ExtResource("6_xh1s8")

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
motion_mirroring = Vector2(1950, 2667)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer"]
texture_repeat = 2
position = Vector2(0, -32)
scale = Vector2(0.25, 0.25)
texture = ExtResource("6_70rfj")

[node name="ParallaxLayer2" type="ParallaxLayer" parent="ParallaxBackground"]
position = Vector2(168, 168)
motion_mirroring = Vector2(500, 0)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer2"]
texture_repeat = 2
scale = Vector2(0.4, 0.4)
texture = ExtResource("8_b3mmc")

[connection signal="pressed" from="Shop/MarginContainer/VBoxContainer/playercanupgrade" to="Shop" method="_on_playercanupgrade_pressed"]
[connection signal="pressed" from="Shop/MarginContainer/VBoxContainer/playerheldupgrade" to="Shop" method="_on_playerheldupgrade_pressed"]
[connection signal="pressed" from="Shop/MarginContainer/VBoxContainer/trashcanupgrade" to="Shop" method="_on_trashcanupgrade_pressed"]
[connection signal="pressed" from="Shop/MarginContainer/VBoxContainer/Restore" to="Shop" method="_on_restore_pressed"]
[connection signal="pressed" from="Shop/MarginContainer/VBoxContainer2/back_to_level" to="Shop" method="_on_back_to_level_pressed"]
